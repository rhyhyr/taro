<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëŒ€ì¤‘êµí†µ í™˜ìŠ¹ ì •ë³´</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .bus-position {
      transition: transform 0.5s ease-in-out;
    }
    
    .progress-dot {
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
  </style>
</head>
<body class="bg-white flex flex-col items-center min-h-screen p-4">
  <div class="max-w-md w-full">
    <!-- ìƒë‹¨ ì‹œê°„ í‘œì‹œ -->
    <div class="flex items-center justify-end mb-7 pr-4">
      <span class="text-xl font-bold" id="totalTime">51ë¶„</span>
    </div>
    
    <!-- ì§„í–‰ ìƒíƒœ í‘œì‹œ -->
    <div class="relative mb-11 px-4">
      <!-- ë²„ìŠ¤ ì•„ì´ì½˜ (ì´ë™ ê°€ëŠ¥) -->
      <div class="absolute -top-6 bus-position" id="busIcon" style="left: calc(0% - 12px);">
        <span class="text-2xl">ğŸšŒ</span>
      </div>
      
      <!-- ì§„í–‰ ìƒíƒœ ì ë“¤ -->
      <div class="flex items-center justify-between">
        <div class="w-4 h-4 rounded-full bg-black progress-dot" id="dot1"></div>
        <div class="flex-1 h-0.5 bg-gray-300 mx-2"></div>
        <div class="w-4 h-4 rounded-full border-2 border-gray-300 bg-white progress-dot" id="dot2"></div>
        <div class="flex-1 h-0.5 bg-gray-300 mx-2"></div>
        <div class="w-4 h-4 rounded-full border-2 border-gray-300 bg-white progress-dot" id="dot3"></div>
      </div>
    </div>
    
    <!-- í˜„ì¬ ìœ„ì¹˜ ì •ë³´ -->
    <div class="text-center mb-13">
      <p class="text-lg">[ í˜„ì¬ <span id="currentStation">í•˜ë‹¨ì—­</span> ]</p>
    </div>
    
    <!-- ìŠ¹ì°¨ ì •ë³´ -->
    <div class="text-center mb-9">
      <p class="text-3xl font-bold">
        <span class="text-red-600" id="busNumber">1001ë²ˆ</span> ìŠ¹ì°¨
      </p>
    </div>
    
    <!-- í•˜ì°¨ ì •ë³´ -->
    <div class="text-center mb-13">
      <p class="text-2xl font-bold">
        <span id="destination">ë¶€ì‚° ì—­</span> í•˜ì°¨
      </p>
    </div>
    
    <!-- ë²„íŠ¼ ì˜ì—­ -->
    <div class="flex gap-4 mb-17">
      <button class="flex-1 py-4 border border-blue-500 rounded-md text-blue-500 font-medium">
        ë“£ê¸°
      </button>
      <button id="transferBtn" class="flex-1 py-4 bg-blue-500 rounded-md text-white font-medium">
        í™˜ìŠ¹
      </button>
    </div>
    
    <!-- ì•ˆë‚´ ë©”ì‹œì§€ -->
    <div class="text-center mb-9">
      <p class="text-lg">í•˜ì°¨ í›„, í™˜ìŠ¹ ëˆ„ë¥´ì„¸ìš”</p>
    </div>
    
    <!-- ê²½ë¡œ ì •ë³´ -->
    <div class="text-center mb-9">
      <p class="text-gray-500">
        <span id="distanceTime">0ë¶„</span> ê±°ë¦¬ì—
        <span id="fasterTime">0ë¶„</span> ë¹ ë¥¸ ê²½ë¡œê°€ ì¡´ì¬í•©ë‹ˆë‹¤.
      </p>
    </div>
    
    <!-- ê²½ë¡œ ë³´ê¸° ë²„íŠ¼ -->
    <div class="text-center">
      <button id="viewRouteBtn" class="text-blue-500 border-b border-blue-500 pb-1">
        ê²½ë¡œ ë³´ê¸°
      </button>
    </div>
  </div>

  <script>
    let currentStep = 1; // í˜„ì¬ ì§„í–‰ ë‹¨ê³„ (1, 2, 3)
    
    // ë°ì´í„°ë¥¼ ì„¤ì •í•˜ëŠ” í•¨ìˆ˜ë“¤
    
    // í˜„ì¬ ì—­ ì„¤ì • í•¨ìˆ˜
    function setCurrentStation(station) {
      document.getElementById('currentStation').textContent = station;
    }
    
    // ë²„ìŠ¤ ë²ˆí˜¸ ì„¤ì • í•¨ìˆ˜
    function setBusNumber(number) {
      document.getElementById('busNumber').textContent = number + 'ë²ˆ';
    }
    
    // ëª©ì ì§€ ì„¤ì • í•¨ìˆ˜
    function setDestination(dest) {
      document.getElementById('destination').textContent = dest;
    }
    
    // ê±°ë¦¬ ì‹œê°„ ì„¤ì • í•¨ìˆ˜
    function setDistanceTime(time) {
      document.getElementById('distanceTime').textContent = time + 'ë¶„';
    }
    
    // ë” ë¹ ë¥¸ ì‹œê°„ ì„¤ì • í•¨ìˆ˜
    function setFasterTime(time) {
      document.getElementById('fasterTime').textContent = time + 'ë¶„';
    }
    
    // ì´ ì†Œìš” ì‹œê°„ ì„¤ì • í•¨ìˆ˜
    function setTotalTime(time) {
      document.getElementById('totalTime').textContent = time + 'ë¶„';
    }
    
    // ë²„ìŠ¤ ì•„ì´ì½˜ ìœ„ì¹˜ ì´ë™ í•¨ìˆ˜
    function moveBusIcon(step) {
      const busIcon = document.getElementById('busIcon');
      const positions = [
        'calc(0% - 12px)',    // ì²« ë²ˆì§¸ ì 
        'calc(50% - 12px)',   // ë‘ ë²ˆì§¸ ì 
        'calc(100% - 12px)'   // ì„¸ ë²ˆì§¸ ì 
      ];
      
      if (step >= 1 && step <= 3) {
        busIcon.style.left = positions[step - 1];
      }
    }
    
    // ì§„í–‰ ìƒíƒœ ì  ì—…ë°ì´íŠ¸ í•¨ìˆ˜
    function updateProgressDots(step) {
      const dots = ['dot1', 'dot2', 'dot3'];
      
      // ëª¨ë“  ì ì„ ì´ˆê¸° ìƒíƒœë¡œ ë¦¬ì…‹
      dots.forEach((dotId, index) => {
        const dot = document.getElementById(dotId);
        if (index < step) {
          // í˜„ì¬ ë‹¨ê³„ ì´ì „ì˜ ì ë“¤ì€ ê²€ì€ìƒ‰ìœ¼ë¡œ
          dot.className = 'w-4 h-4 rounded-full bg-black progress-dot';
        } else {
          // í˜„ì¬ ë‹¨ê³„ ì´í›„ì˜ ì ë“¤ì€ í°ìƒ‰ í…Œë‘ë¦¬ë¡œ
          dot.className = 'w-4 h-4 rounded-full border-2 border-gray-300 bg-white progress-dot';
        }
      });
    }
    
    // í™˜ìŠ¹ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    document.getElementById('transferBtn').addEventListener('click', function() {
      if (currentStep < 3) {
        currentStep++;
        moveBusIcon(currentStep);
        updateProgressDots(currentStep);
        
        // ë‹¨ê³„ë³„ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸ (ì„ íƒì‚¬í•­)
        if (currentStep === 2) {
          console.log('í™˜ìŠ¹ ì¤‘...');
        } else if (currentStep === 3) {
          console.log('ëª©ì ì§€ ë„ì°©!');
        }
      }
    });
    
    // ê²½ë¡œ ë³´ê¸° ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    document.getElementById('viewRouteBtn').addEventListener('click', function() {
      // ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™
      window.location.href = 'route.html';
    });
    
    // ì˜ˆì‹œ: í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ë³¸ê°’ ì„¤ì •
    window.addEventListener('DOMContentLoaded', function() {
      // URL íŒŒë¼ë¯¸í„°ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
      const urlParams = new URLSearchParams(window.location.search);
      
      // íŒŒë¼ë¯¸í„°ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ê°’ ì‚¬ìš©, ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì‚¬ìš©
      setCurrentStation(urlParams.get('station') || 'í•˜ë‹¨ì—­');
      setBusNumber(urlParams.get('bus') || '1001');
      setDestination(urlParams.get('dest') || 'ë¶€ì‚° ì—­');
      setDistanceTime(urlParams.get('distance') || '0');
      setFasterTime(urlParams.get('faster') || '0');
      setTotalTime(urlParams.get('total') || '51');
      
      // ì´ˆê¸° ì§„í–‰ ìƒíƒœ ì„¤ì •
      moveBusIcon(currentStep);
      updateProgressDots(currentStep);
    });
  </script>
</body>
</html>
